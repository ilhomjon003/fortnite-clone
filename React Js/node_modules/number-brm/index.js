/**
 * Bu Number metodning vazifasi:
 * 1. Sonlarni uchxonaga bo'lgan holda string qaytaradi.
 * 2. Agar argumentga "int"ni yozilsa yoki yozilmasa ham uchxonaga bo'ladi 
 * va "int"ni argument sifatida bersangiz ikkinchi argumentga qoldiq son miqdorini raqamda beriladi
 * 3. Agar argumentga "int"ni o'rniga "string" bersangiz "10k, 9.1m, 3B" shu shaklda qaytaradi
 * @param type stringni ichida "int" yoki "string" yozing
 * @param rest agar birinchi argumentga "int" yozgan bo'lsangiz qoldiq son miqdorini numberda kiriting
 */
 module.exports = Number.prototype.brm = function(type, rest=2){
    if(type === "int" || type === undefined || type === ""){
        let str, qol
        if(String(this).indexOf(".") === -1){
            str = String(this).split('').reverse().join('')
            qol = ""
        }else{
            str = String(this).slice(0,String(this).indexOf(".")).split('').reverse().join('')
            qol = rest === 0 ? "" : String(this).slice(String(this).indexOf(".")).slice(0, rest+1)
        }
        let arr = []
        for(let i = 3; i < str.length + 3; i+=3){
            arr.push(str.slice(i-3, i))
        }
        return arr.map(i=>i.split("").reverse().join("")).reverse().join(' ') + qol
    }else if(type === "string"){
        let leng = String(Math.floor(this)).length
        let num = String(Math.floor(this)).split('').reverse()
        if(leng < 4){
            return Math.floor(this)
        }else if(leng < 7){
            return num.slice(3).reverse().join('')  + `${+num.slice(2,3) === 0 ? "" : "."+ num.slice(2,3)}k` 
        }else if(leng < 10){
            return num.slice(6).reverse().join('') + `${+num.slice(5,6) === 0 ? "" : "."+ num.slice(5,6)}m`
        }else {
            return num.slice(9).reverse().join('') + "B"
        }
    }else{
        return `"int" yoki "string" yozing - "${type}"`
    }
}



